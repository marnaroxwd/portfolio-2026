// ================================================
// GLITCH HOVER EFFECT
// ================================================

// -----------------------------------------------
// STRUCTURE INTERNE (générée par le JS)
//
//  <a class="nav__link">
//    <span class="glitch-sizer">Texte</span>   ← visible, fixe hauteur ET largeur
//    <span class="glitch-label">Texte</span>   ← absolute par-dessus, reçoit le scramble
//  </a>
// -----------------------------------------------

.glitch-sizer {
  // Visible mais transparent — donne hauteur + largeur au parent
  display: block;
  opacity: 0;
  pointer-events: none;
  white-space: nowrap;
  user-select: none;
}

.glitch-label {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  white-space: nowrap;
  z-index: 1;
}


// -----------------------------------------------
// NAV — dans nav.scss
// SUPPRIME &:hover { opacity: 0.6; }
// -----------------------------------------------

.nav__list--menu .nav__link {
  position: relative;
  overflow: hidden;

  &::after {
    content: '';
    position: absolute;
    inset: 0;
    background: $color-text;
    z-index: 0;
    transform: scaleX(0);
    transform-origin: left center;
    transition: transform 0.4s cubic-bezier(0.77, 0, 0.175, 1);
  }

  &.is-hovered {
    color: $color-background;
    &::after { transform: scaleX(1); }
  }

  &.is-leaving::after {
    transform: scaleX(0);
    transform-origin: right center;
    transition: transform 0.4s cubic-bezier(0.77, 0, 0.175, 1);
  }

  @media (max-width: 767px) {
    overflow: visible;
    &::after { display: none; }
    &.is-hovered { color: $color-text; }
  }
}


// -----------------------------------------------
// FOOTER — dans footer.scss
// -----------------------------------------------

.footer__link {
  position: relative;
  overflow: hidden;

  &::after {
    content: '';
    position: absolute;
    inset: 0;
    background: $color-background;
    z-index: 0;
    transform: scaleX(0);
    transform-origin: left center;
    transition: transform 0.4s cubic-bezier(0.77, 0, 0.175, 1);
  }

  &.is-hovered {
    color: $color-text;
    &::after { transform: scaleX(1); }
  }

  &.is-leaving::after {
    transform: scaleX(0);
    transform-origin: right center;
    transition: transform 0.4s cubic-bezier(0.77, 0, 0.175, 1);
  }
}